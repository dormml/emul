

: >message     (  # -- gaddr )
    >r
    >grom_errptrs g@
    
    begin
        \ code is first, 0 ends table
        dup  g@  dup
    while
        r@  = if
            \ msg ptr follows code  
            2+  g@  rdrop exit
        then
        \ each entry is 4 bytes
        4 +    
    repeat
    
    rdrop  2drop 0
;

: message     (  # -- )
    dup  >message ?dup if
        gtypez
        drop
    else
        ." ??? " .
    then
;

: ?throw ( t|f code -- )
    AND throw
;

