
| Code xop-EMIT ( ch -- )
	rTOS		TERM^	,XOP  	#t.tty ,
	
	rTOS				,SWPB
	rTOS		@>		,MOVB	'DBG ,
	POP
end-code

| : rom-EMIT	( ch -- )
	xop-EMIT
	yield
;

' rom-EMIT 	TO EMIT

| Code xop-KEY? ( --  f )
	PUSH
	rTOS		TERM^	,XOP  	#t.key? ,
end-code
' xop-KEY? 	TO KEY?

| : rom-KEY? ( -- f )
	yield
	xop-KEY?
;

| Code xop-key ( --  k | 0 )
	PUSH
	rTOS		TERM^	,XOP  	#t.rdkey ,
end-code

| : rom-KEY ( --  k )
	begin
		yield
		xop-key ?dup
	until
;
' rom-KEY 		TO KEY

